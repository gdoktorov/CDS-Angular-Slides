<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>JS_and_TypeScript</title>
  <link rel="shortcut icon" href="/CDS-Angular-Slides/favicon.ico">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <!-- css & themes include -->
  <link rel="stylesheet" href="/CDS-Angular-Slides/lib/reveal.js/css/reveal.css">
  <link rel="stylesheet" href="/CDS-Angular-Slides/outfit/css/themes/projector.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? '/CDS-Angular-Slides/lib/reveal.js/css/print/pdf.css' : '/CDS-Angular-Slides/lib/reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->
  <!-- CUSTOM -->
  <base target="_blank">
</head>
<body>
  <div class="reveal default center" data-transition-speed="default" data-background-transition="default">
    <div class="top_links">
      <a class="home_link" href="/index.html#JS_and_TypeScript" target="_top"><i class="fa fa-home"></i></a>
      <span class="help_link" href="#"><i class="fa fa-question"></i></span>
      <div class="help_text">
        <div><span>N/Space</span><span>Next Slide</span></div>
        <div><span>P</span><span>Previous Slide</span></div>
        <div><span>O</span><span>Slides Overview</span></div>
        <div><span>ctrl+left click</span><span>Zoom Element</span></div>
      </div>
    </div>
    <div class="footer theme_switch">
      <a href="#" onclick="document.getElementById('theme').setAttribute('href','/CDS-Angular-Slides/outfit/css/themes/dark.css'); return false;">Dark</a>
      <a href="#" onclick="document.getElementById('theme').setAttribute('href','/CDS-Angular-Slides/outfit/css/themes/light.css'); return false;">Light</a>
      <a href="#" onclick="document.getElementById('theme').setAttribute('href','/CDS-Angular-Slides/outfit/css/themes/projector.css'); return false;">Projector</a>
    </div>
    <div class="slides">
<!--
########################################################
##################### SLIDES START #####################
########################################################
-->
<section data-min-total="240"><h1>ES6+ and TypeScript</h1></section>
<section data-transition="zoom">
  <div class="copyright">
    <div class="note">
      <p>Created for</p>
    </div>
    <div class="company">
      <a href="http://progressbg.net/kurs-po-web-design/">
      <img style="height:80%" src="/CDS-Angular-Slides/outfit/images/logos/ProgressBG_logo_529_127.png">
      </a>
    </div>
    <div class="author">
      <span>Iva E. Popova, 2016-2020,</span>
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
    </div>
  </div>
</section>

<section><h2>Disclaimer</h2>
  <dl class="fa" style="font-size: .8em">
    <dt class="note">Next slides are not intended as a JavaScript guide or tutorial.</dt>
    <dt>They only give a brief overview of new features in ES6, some examples and explanations of specific JS topics like functions and OOP, which most often you'll have to use when developing an Angular Application.</dt>
    <dt>It is presumed, <span class="note">that you have understanding of basic programming language concepts, like <span>variables</span>, <span>conditional statements</span>, <span>loops</span>, <span>functions</span></span>.</dt>
    <dt>They also introduce some features of the <a href="https://www.typescriptlang.org/">TypeScript</a> language, which is the default language used in Angular2+</dt>
  </dl>
</section>
<section><h2>Readings on JS</h2>
  <dl class="fa">
    <dt>If you need to refresh or update your knowledge of JavaScript language, you can check the famous book series <a href="https://github.com/getify/You-Dont-Know-JS">"You-Dont-Know-JS" by Kyle Simpson</a>.</dt>
    <dt>For beginning you'll need to cover:</dt>
    <dd><a href="https://github.com/getify/You-Dont-Know-JS/blob/master/up%20&%20going/README.md#you-dont-know-js-up--going">You Don't Know JS: Up & Going</a></dd>
    <dd><a href="https://github.com/getify/You-Dont-Know-JS/blob/master/scope%20&%20closures/README.md#you-dont-know-js-scope--closures">You Don't Know JS: Scope & Closures</a></dd>
    <dd><a href="https://github.com/getify/You-Dont-Know-JS/blob/master/this%20&%20object%20prototypes/README.md#you-dont-know-js-this--object-prototypes">You Don't Know JS: <em>this</em> & Object Prototypes</a></dd>
    <dd><a href="https://github.com/getify/You-Dont-Know-JS/blob/master/types%20&%20grammar/README.md#you-dont-know-js-types--grammar">You Don't Know JS: Types & Grammar</a></dd>
  </dl>
</section>
<section data-min="5"><h1>EcmaScript6(and beyound) - new features</h1></section>
<section><h2>EcmaScript6(and beyound) - new features</h2>
	<section style="font-size: .6em"><h3>Overview</h3>
		<div style="font-size: 1em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Constants
		</div>
		<div style="font-size: 1.2em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Scoping
		</div>
		<div style="font-size: 1.4em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Arrow Functions
		</div>
		<div style="font-size: 1.2em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Extended Parameter Handling
		</div>
		<div style="font-size: 1em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Template Literals
		</div>
		<div style="font-size: 1em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Extended Literals
		</div>
		<div style="font-size: 1em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Enhanced Regular Expression
		</div>
		<div style="font-size: 1em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Enhanced Object Properties
		</div>
		<div style="font-size: 1em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Destructuring Assignment
		</div>
		<div style="font-size: 1.6em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Modules
		</div>
		<div style="font-size: 1.5em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Classes (syntactic sugars)
		</div>
		<div style="font-size: 1em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Symbol Type
		</div>
		<div style="font-size: 1.4em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Iterators
		</div>
		<div style="font-size: 1.4em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Generators
		</div>
		<div style="font-size: 1.2em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Map/Set &amp; WeakMap/WeakSet
		</div>
		<div style="font-size: 1em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Typed Arrays
		</div>
		<div style="font-size: 1em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		New Built-In Methods
		</div>
		<div style="font-size: 1.3em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Promises
		</div>
		<div style="font-size: 1.2em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Meta-Programming
		</div>
		<div style="font-size: 1em; display: inline-block;border: 1px dotted #999; padding: .1em; margin:.1em;">
		Internationalization &amp; Localization
		</div>
		<p style="font-size: 1.5em"><a href="http://es6-features.org/">es6-features.org</a></p>
	</section>
</section>

<section data-min="40"><h1>Functions in JavaScript</h1></section>
<section><h2>Defining Functions</h2>
  <section><h3>Function declaration</h3>
    <pre><code rel="JS">
      function add(x,y){
        return x+y
      }
    </code></pre>
    <dl class="fa">
      <dt>This is a <span class="note">declaration</span>, not an executable statement, and semicolons are note required after it!</dt>
    </dl>
  </section>
  <section><h3>Function expression with anonymous function</h3>
    <pre><code rel="JS">
      var add = function(x,y){
        return x+y
      }
    </code></pre>
    <dl class="fa">
      <dt>function name is most often omitted in <span class="note">function expressions</span>, i.e. an <span class="note">anonymous</span> function is used in the expression.</dt>
      <dt>a function expression can be immediately invoked (as IIFE - discussed in next sections)</dt>
    </dl>
  </section>
  <section><h3>Function expression with named function</h3>
    <pre><code rel="JS">
      var f = function add(x,y){
        return x+y
      }

      console.log("f(2,3):", f(2,3));     // f(2,3):5
      console.log("add(2,3):", add(2,3)); // ReferenceError: add is not defined
    </code></pre>
    <dl class="fa">
      <dt>A function name can be given in function expression. But the function name is scoped to function body! Could be useful for debugging purposes.</dt>
    </dl>
  </section>
  <section><h3 class="advanced">Function Constructor</h3>
    <p class="note">Not recommended to use.</p>
    <dl class="fa">
      <dt>The Function constructor creates a new Function object.</dt>
      <dt>In JavaScript every function is actually a Function object.</dt>
      <dt>Invoking the Function constructor as a function (without using the new operator) has the same effect as invoking it as a constructor.</dt>
    </dl>
    <pre><code rel="Syntax" class="js">
      new Function ([arg1[, arg2[, ...argN]],] functionBody)
    </code></pre>
  </section>
  <section><h3 class="advanced">Why not to use the Function constructor</h3>
    <dl class="fa">
      <dt>Parsing</dt>
      <dd>Functions defined by <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">Function constructor</a> are parsed each time the constructor is called.</dd>
      <dd>Functions defined by function expressions and function declarations are parsed only once.</dd>
      <dt>Closure</dt>
      <dd>Functions created by the Function constructor do not create closures.</dd>
      <dd>Functions defined by function expressions and function declarations create closure to their creation context.</dd>
    </dl>
  </section>
  <section><h3>Expression vs. declaration</h3>
    <dl class="fa">
      <dt>Hoisting (<a href="https://developer.mozilla.org/en-US/docs/Glossary/Hoisting">hoisting  @MDN</a>)</dt>
      <dd>Function declarations are hoisted</dd>
      <dd>Function expressions are <span class="note">not hoisted</span></dd>
    </dl>
  </section>
</section>
<section><h2>Function Parameters</h2>
  <section><h3>Parameters</h3>
    <dl class="fa">
      <dt>No matter if the function is declared or defined by expression it can take parameters - a list of identifiers, separated by comma (,)</dt>
    </dl>
    <pre><code rel="JS" class="js">
      // x, y are positional parameters
      function sum(x,y){
        return x+y;
      }

      // x, y are positional parameters
      var sum2 = function(x,y){
        return x+y;
      }

      console.log( sum(2,3) );
      console.log( sum(40,2) );
      //5
      //42
    </code></pre>
  </section>
  <section><h3>Default Parameters</h3>
    <pre><code rel="JS" class="js">
      var say_hello = function(name="Anonymous"){
        console.log(`Hello ${name}`);
      }

      name = "Ada"
      say_hello(name)
      say_hello()
      //Hello Ada
      //Hello Anonymous
    </code></pre>
  </section>
  <section><h3>Rest Parameter</h3>
    <pre><code rel="JS" class="js">
      function sum(x,y, ...rest){
        let sum = x+y;
        for(n of rest){
          sum+= n
        }

        return sum;
      };
      console.log( sum(1,2,3) );
      console.log( sum(1,2,3,4) );
      //6
      //10
    </code></pre>
  </section>
  <section><h3>Potential bugs sources</h3>
    <dl class="fa">
      <dt>No error is raised, if the number of arguments did not correspond to the number of parameters.<span class="note">But such case are potential bug sources!</span></dt>
      <dt>If we pass less arguments, the rest of parameters will be initialized by 'undefined'</dt>
      <dt>If more arguments are passed, the redundant arguments are just ignored </dt>
    </dl>
  </section>
  <section><h3>Pass a function less arguments</h3>
    <pre><code rel="JS" class="js">
      function sum(x,y){
        // var x = 2
        // var y = undefined
        return x+y;
      }

      sum(2);
      // NaN (Not A Number)
    </code></pre>
  </section>
  <section>Pass a function more arguments
    <pre><code rel="JS" class="js">
      function sum(x,y){
        // var x = 1
        // var y = 2
        return x+y;
      }

      sum(1,2,5);
      // returns 3, the third argument (5) is just ignored
    </code></pre>
  </section>
</section>
<section><h2>Scope</h2>
  <section>
    <dl class="fa">
      <dt>The context in which values and expressions are "visible," or can be referenced.</dt>
      <dt>Scopes can be layered in a hierarchy, so that child scopes have access to parent scopes, but not vice versa.</dt>
      <dt class="note">Each function in JavaScript creates its own scope!</dt>
    </dl>
  </section>
  <section>
    <img src="images/Scope1.png">
    <dl class="fa">
      <dt>Inner Scope can use the names in Outer Scope</dt>
      <dt>Outer Scope <span class="note">can not</span> see the names defined in Inner Scope</dt>
      <dt>If same name is defined in both Scopes, then the Inner Scope name <span class="note">shadows</span> the Outer Scope name</dt>
    </dl>
  </section>
</section>
<section><h2>Functions as first-class citizens</h2>
  <section>
    <p>From its creation back in 1995, JavaScript supports function as <span class="note">first-class</span> citizens (objects)</p>
  </section>
  <section>
    <blockquote cite="http://javascript.crockford.com/javascript.html">JavaScript's C-like syntax, including curly braces and the clunky for statement, makes it appear to be an ordinary procedural language. This is misleading because <span class="note"> JavaScript has more in common with functional languages like Lisp or Scheme</span> than with C or Java</blockquote>
    <a href="http://javascript.crockford.com/javascript.html">JavaScript: The World's Most Misunderstood Programming Language (Douglas Crockford)</a>
  </section>
  <section>
    <dl class="fa">
      <dt>What that means?</dt>
      <dd>A function can be treated as object, expression or statement.</dd>
      <dd>A function can be assigned to variable.</dd>
      <dd>A function can be passed as argument to other functions.</dd>
      <dd>A function can be the return value of the <code>return</code> operator.</dd>
    </dl>
  </section>
  <section><h3>function assigned to variable</h3>
    <pre><code rel="JS" class="js">
      // function as variable
      var f = function(){return 5}

      console.log( f() + 2 )
    </code></pre>
  </section>
  <section><h3>function passed as argument to other function</h3>
    <pre><code rel="JS">
      var greeting = function(){
        alert("Welcome");
      }

      setTimeout(greeting, 4000);
    </code></pre>
  </section>
  <section><h3>function as return value</h3>
    <pre><code rel="JS">
      var greeting = function(name){
        return function(){
          alert("Welcome, "+ name);
        }
      }

      setTimeout(greeting("iva"), 4000);
     </code></pre>
  </section>
  <section><h3 class="advanced">currying</h3>
    <p ><a href="https://en.wikipedia.org/wiki/Currying">currying @wikipedia</a></p>
    <pre><code rel="JS">
      var sum = function(x){
        return function(y){
          return x+y;
        }
      }
      console.log( "sum:", sum(2)(3) );
    </code></pre>
    <a href=""></a>
  </section>
  <section><h3>Pros and Cons</h3>
    <dl class="fa">
      <dt>Pros</dt>
      <dd>The new (ES6) arrow functions syntax make JavaScript a language suited for lamdba-calculus (functional programming paradigm)</dd>
      <dt>Cons</dt>
      <dd>Not intuitive for persons used with classical procedural languages.</dd>
    </dl>
  </section>
  <section>
    <iframe  src="https://www.youtube.com/embed/hRJrp17WnOE?autoplay=0" frameborder="0" allowfullscreen></iframe>
  </section>
</section>
<!-- <section><h2 class="advanced">Immediately-invoked function expressions (IIFE)</h2>
  <section>
    <h3><abbr>IIFE</abbr><dfn id="IIFE"><span>Immediately</span><span>Invoked</span><span>Function</span><span>Expression</span></dfn></h3>
    <p>Used to scope all variables and not to pollute the global scope (namespace)</p>
  </section>
  <section>
    <pre><code rel="JS">
      ( function(){} )();
    </code></pre>
    <dl class="fa">
      <dt><code>function(){}</code> is an anonymous function declaration!</dt>
      <dt><code>( function(){} )</code> is an anonymous function expression!</dt>
      <dt>We can only invoke <span class="note">function expressions</span>.</dt>
    </dl>
  </section>
  <section>
    <pre><code rel="JS">
      (function(x,y){
        console.log( x+y );
      })(2,3);
    </code></pre>
    <p>is the same as</p>
    <pre><code rel="JS">
      (function(x,y){
        console.log( x+y );
      }(2,3));
    </code></pre>
  </section>
</section> -->
<!-- <section><h2>Closures</h2>
  <section>
    <dl class="fa">
      <dt>Allows a function which is executed outside its lexical scope, to preserve the values of scoped variables</dt>
    </dl>
    <pre><code rel="JS">
      function outer(){
        var x = 5;
        function inner(){
          console.log(x);
        }

        return inner;
      }

      var f = outer();
      f(); // f can access the local x !
    </code></pre>
  </section>
  <section><h3>Common problem: "closures in loops"</h3>
    <pre><code rel="JS">
      var cats = [];

      for (var i = 0; i < 3; i++) {
        cats[i] = function(){
          console.log(`Cat ${i} is ready!`);
        }
      }

      cats[0](); //Cat 3 is ready!
      cats[1](); //Cat 3 is ready!
      cats[2](); //Cat 3 is ready!
    </code></pre>

    <p class="note">the value of 'i' in the cats[i] function body is determined when the function is invoked!</p>
  </section>
  <section><h3>"closures in loops" - IIFE solution</h3>
    <pre><code rel="JS">
      var cats = [];

      for (var i = 0; i < 3; i++) {
        (function(i){
          cats[i] = function(){
            console.log(`Cat ${i} is ready!`);
          }
        })(i)
      }

      cats[0](); //Cat 0 is ready!
      cats[1](); //Cat 1 is ready!
      cats[2](); //Cat 2 is ready!
    </code></pre>
  </section>
  <section><h3>"closures in loops" - Factory solution</h3>
    <pre><code rel="JS">
      var cats = [];

      function catMaker(i){
        return function(){
          console.log(`Cat ${i} is ready!`);
        }
      }

      for (var i = 0; i < 3; i++) {
        cats[i] = catMaker(i);
      }

      cats[0](); //Cat 0 is ready!
      cats[1](); //Cat 1 is ready!
      cats[2](); //Cat 2 is ready!
    </code></pre>
  </section>
  <section><h3>"closures in loops - timeout Problem"</h3>
    <pre><code rel="JS">
      var colors = ["red", "green", "blue"];

      for (var i = 0; i < colors.length; i++) {
        setTimeout(function(){
          changeBG("box", colors[i]);
        }, 1000)
      }

      function changeBG(id, color){
        var node = document.getElementById(id);
        node.style.background = color;
      }
    </code></pre>
  </section>
  <section><h3>"closures in loops - timeout IIFE fix"</h3>
    <pre><code rel="JS">
      var colors = ["red", "green", "blue"];

      for (var i = 0; i < colors.length; i++) {
        (function(i){
          setTimeout(function(){
            changeBG("box", colors[i]);
          }, 1000*i)
        })(i);
      }

      function changeBG(id, color){
        var node = document.getElementById(id);
        node.style.background = color;
      }
    </code></pre>
    <p class="note">setTimeout() is invoked immediately 3 times. The delay is for the inner function. If we pass same delay, they will be invoked simultaneously after the delay. So, we need to change the delay, as well, i.e. <code>i*1000</code></p>
  </section>
  <section><h3>"closures in loops - timeout separate call fix"</h3>
    <pre><code rel="JS">
      var colors = ["red", "green", "blue"];

      for (var i = 0; i < colors.length; i++) {
        doTimeout(i);
      }

      function doTimeout(i){
        setTimeout(function(){
          changeBG("box", colors[i]);
        }, i*1000)
      }

      function changeBG(id, color){
        var node = document.getElementById(id);
        node.style.background = color;
      }
    </code></pre>
  </section>
  <section><h3>Infinite timeout loop over array</h3>
    <pre><code rel="JS" class="js">
      var colors = ['red', 'green', 'blue'],
        i = 0;

      function DoSomethingWithColor(color){
        // do something with a color
        console.log(`color = ${color}`);
      }

      function startTimer () {
        DoSomethingWithColor(colors[i]);

        i = ++i%colors.length;
        setTimeout(startTimer, 1000);
      }

      startTimer();
    </code></pre>
  </section>
  <section><h3>Test it!</h3>
    <iframe height='328' scrolling='no' title='Lab5: All Examples' src='https://codepen.io/ProgressWWWCourses/embed/JNydxy/?height=328&theme-id=0&default-tab=js&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/ProgressWWWCourses/pen/JNydxy/'>Lab5: All Examples</a> by Iva E. Popova (<a href='http://codepen.io/ProgressWWWCourses'>@ProgressWWWCourses</a>) on <a href='http://codepen.io'>CodePen</a>.
    </iframe>
  </section>
</section> -->
<section><h2>Callback</h2>
  <section>
    <dl class="fa">
      <dt>A callback function is a function passed as an argument to another function, in order to complete some kind of routine or action.</dt>
    </dl>
  </section>
  <section>
    <pre><code rel="JS" class="js">
      function mainFunction( cb ){
        console.log('mainFunction() is invoked');
        cb();
      }

      function callback() {
        console.log('callback() is invoked');
      }

      mainFunction( callback);
    </code></pre>
  </section>
</section>

<section data-min="20"><h1>Arrow Functions (Lambda Expresions) </h1></section>
<section><h2>What Are Arrow Functions?</h2>
  <section><h3></h3>
    <p>Also called "fat arrow" (coming from from CoffeeScript)</p>
    <p>or "arrow notation" as in ES6</p>
  </section>
  <section>
    <p>A more concise syntax for writing function expressions</p>
    <pre><code rel="JS" class="js">
      var isEven = x=>x%2 == 0;
      console.log( isEven(3));
    </code></pre>
  </section>
  <section>
    <p>It is essentially syntactic sugar that reduces the number of times you have to type the word function , as well as the number of curly braces you have to type</p>
  </section>
  <section><h3>Function expression vs arrow syntax:</h3>
    <pre><code rel="JS">
      const pi = 3.14;

      // function expression:
      let circleAreaExp = function(r){
          return r*r*pi;
      }

      // arrow function:
      let circleAreaArr = r=>r*r*pi;
    </code></pre>
  </section>
  <section>
    <p>Arrow functions are always anonymous.</p>
    <pre><code rel="JS" class="js">
      btnNode.addEventListener('click', event=>{
        console.log('Button was clicked!');
      })
    </code></pre>
  </section>
  <section>
    <p>Arrow Functions have different rules for <code>this</code> value - it is always the this value of the enclosing execution context.</p>
  </section>
  <section><p class="note">Arrow Functions was introduces in ES6!</p></section>
</section>
<section><h2>syntax</h2>
  <section>
    <pre><code rel="Basic Syntax">
        (param1, param2, …, paramN) => { statements }
    </code></pre>
    <pre><code rel="JS">
        let circleArea = (r)=>{return r*r*pi};

        console.log(`circleArea(2) = ${circleArea(2)}`);
    </code></pre>
  </section>
  <section><h3>omitting parentheses</h3>
    <dl class="fa">
        <dt>If the function takes a single argument, you can omit the parentheses</dt>
    </dl>
    <pre><code rel="Basic Syntax">
        singleParam => { statements }
    </code></pre>
    <pre><code rel="JS">
        let circleArea = r=>{return r*r*pi};

        console.log(`circleArea(2) = ${circleArea(2)}`);
    </code></pre>
  </section>
  <section><h3>omitting curly braces</h3>
    <dl class="fa">
        <dt>If the function body is a single expression, you can omit curly braces <span class="note">and the return statement</span></dt>
    </dl>
    <pre><code rel="Basic Syntax">
        (param1, param2, …, paramN) => expression
    </code></pre>
    <pre><code rel="JS">
        let circleArea = r=>r*r*pi;

        console.log(`circleArea(2) = ${circleArea(2)}`);
    </code></pre>
  </section>
</section>
<section><h2>the <span class="note">THIS</span> value</h2>
  <section>
    <dl class="fa">
      <dt>Traditional functions have a <span class="note">dynamic this</span>; its value is determined by how they are called.</dt>
      <dt>Arrow functions have a <span class="note">lexical this</span>; its value is determined by the surrounding scope.</dt>
      <dt>"<span class="note">this </span>" in arrow functions can not be changed with <code>call/apply or bind</code> methods!</dt>
    </dl>
  </section>
  <section><h3>lexical "this" - example</h3>
    <pre><code rel="JS">
        lexicalThis = this;

        var obj = {
            'exp': function(){
                console.log(this === lexicalThis);
            },
            'arr': ()=>{console.log(this === lexicalThis)}
        }


        obj.exp(); // false
        obj.arr(); // true
    </code></pre>
  </section>
</section>
<section><h2 class="advanced">lexical arguments</h2>
  <dl class="fa">
      <dt>the <code>arguments</code> object in arrow function is reference to the arguments object in the enclosing scope</dt>
  </dl>
  <pre><code rel="JS">
      let logArgs = ()=>{
          for (var i = 0; i < arguments.length; i++) {
              console.log(arguments[i]);
          }
          console.dir(arguments);
      }

      logArgs(1,2,3);
  </code></pre>
  </section>
<section><h2 class="advanced">loose binding</h2>
  <pre><code rel="JS">
      const f = x => (x % 2) === 0 ? x : 0;
      console.log(f(6));
  </code></pre>
  <pre><code rel="JS">
      let cb;

      cb = cb || function() {}; // ok

      cb = cb || () => {};
      // SyntaxError: invalid arrow-function arguments

      cb = cb || (() => {});    // ok
  </code></pre>
</section>
<section><h2>Notes</h2>
  <dl class="fa">
      <dt class="note">Arrow functions are always anonymous!</dt>
      <dt>Arrow function syntax is best suited for non-method functions</dt>
      <dt>Perfect for callbacks</dt>
      <dt>Arrow functions cannot be used as constructors and will throw an error when used with <code class="note">new</code></dt>
  </dl>
</section>

<section data-min="40"><h1>Objects, Classes, interfaces, and class inheritance</h1></section>
<section><h2>OOP in JavaScript</h2>
  <section><h3>Overview</h3>
    <dl class="fa">
      <dt>JavaScript uses a <span class="note">prototype-based</span>, object-oriented programming model.</dt>
      <dt>It creates objects using other objects as blueprints.</dt>
      <dt>The inheritance mechanism is based on the "<span class="note">prototype chain</span>".</dt>
    </dl>
  </section>
  <section><h3>Class-based vs. Prototype-based OOP paradigms</h3>
    <dl class="fa">
      <dt>Class-based paradigm</dt>
      <dd>Objects are instanses of <span class="note">classes</span></dd>
      <dd>Classes inherit from <span class="note">classes</span></dd>
      <dd>Classes are <span class="note">immutable</span></dd>
      <dt>Prototype-based paradigm</dt>
      <dd>Objects are instanses of <span class="note">objects</span></dd>
      <dd>Objects inherit from <span class="note">objects</span></dd>
      <dd>Objects are <span class="note">mutable</span></dd>
    </dl>
  </section>
  <section><h3>Prototyple Inheritance</h3>
    <a href="images/Prototype Inheritance.png"><img src="images/Prototype Inheritance.png"></a>
  </section>
  <section><h3>OOP in JavaScript vs OOP in Java</h3>
    <table>
      <tr>
        <th>Java</th>
        <th>JavaScript</th>
      </tr>
      <tr>
        <td>Classes</td>
        <td>Functions</td>
      </tr>
      <tr>
        <td>Constructors</td>
        <td>Functions</td>
      </tr>
      <tr>
        <td>Methods</td>
        <td>Functions</td>
      </tr>
    </table>
    <hr>
    <p>Tables excerpt from Douglas Crockford's "<a href="http://www.crockford.com/javascript/inheritance.html">Classical Inheritance in JavaScript</a>"</p>
  </section>
  <section id="objectLiteral" style="font-size: .8em"><h3>Object Literal (object initializer)</h3>
    <dl class="fa">
      <dt>An object literal, also known as object initializer, is a <span class="note">comma-delimited</span> list of zero or more <span class="note">pairs of property names and associated values</span> of an object, enclosed in curly braces <code class="note">{}</code>.</dt>
    </dl>
    <pre><code rel="Syntax" class="js">
      var obj = {
        property1: value1,
        property2: value2,
        ...
        propertyN: valueN
      };
    </code></pre>
    <dl class="fa">
      <dt>The value of a property can be any JS data type: a primitive, function or an object</dt>
    </dl>
    <p class="advanced ">By object literals in JavaScript, we can create <a href="https://en.wikipedia.org/wiki/Associative_array">associative arrays/dictionaries</a> data structures.</p>
  </section>
  <section><h3>Object Literal example</h3>
    <pre><code rel="JS">
      var apple = {
        color: "red",
        price: [23.5, 22, 25],

        calcMinPrice: function(){
          return  Math.min( ...this.price ); // from ES6
        },
        calcMaxPrice: function(){
          return  Math.max( ...this.price ); // from ES6
        }
      }

      console.log( "apple object", apple );
      console.log( "apple min price", apple.calcMinPrice() );
    </code></pre>
  </section>
  <section id="constructor"><h3>Constructor Function</h3>
    <dl class="fa">
      <dt>Constructor function is a function which constructs objects.</dt>
      <dt>Every function in JS can act as a Constructor function.</dt>
      <dt>What make difference is the <span class="note">way you call</span> the constructor function!</dt>
      <dt>That's why, there is a convention to name a "constructor" function with starting UpperCase letter.</dt>
    </dl>
  </section>
  <section><h3>Constructor Function</h3>
    <pre><code rel="JS">
      // the Constructor Function:
      var AppleMaker = function( color, prices ){
        console.log("I'm the AppleMaker!");
        this.color = color;
        this.prices = prices;

        this.calcMinPrice = function(){
          return  Math.min( ...this.prices ); // from ES6
        };
        this.calcMaxPrice = function(){
          return  Math.max( ...this.prices ); // from ES6
        };
      }

      // objects constructing:
      var apple1 = new AppleMaker("red", [3.5, 2, 2.5]);
      var appleN = new AppleMaker("green", [1.80, 2.10, 2.40]);

      // objects usage:
      console.log( "apple1 min price: ", apple1.calcMinPrice());
    </code></pre>
  </section>
  <section><h3>Object properties</h3>
    <dl class="fa">
      <dt>Property names must be strings</dt>
      <dt>If they are not, JavaScript try to typecast them</dt>
    </dl>
  </section>
  <section><h3>Accessing properties - the dot notation</h3>
    <pre><code rel="Syntax" class="js">
      get = object.property;
      object.property = set;
    </code></pre>
    <dl class="fa">
      <dt><code>property</code> must be a valid identifier!</dt>
    </dl>
    <pre><code rel="JS" class="js">
      var obj = {};

      obj.$1 = "first"; // valid
      obj.1  = "first"; // invalid
    </code></pre>
  </section>
  <section style="font-size: .9em"><h3>Accessing properties - square brackets notation</h3>
    <pre><code rel="Syntax" class="js">
      get = object[property_name];
      object[property_name] = set;
    </code></pre>
    <dl class="fa">
      <dt><code>property_name</code> is a string, or expression that evaluates to string!</dt>
      <dt><code>property_name</code> can be any string, not necessarily valid identifier.</dt>
    </dl>
    <pre><code rel="JS" class="js">
      var obj = {};
      var keyName = 2;

      obj["1"] = "first";   // valid
      obj[keyName]   = "second";  // valid

      console.log(obj)
      // Object {1: "first", 2: "second"}
    </code></pre>
  </section>
  <section><h3>Accessing properties - square brackets notation</h3>
    <dl class="fa">
      <dt>Another (more popular) use-case of square-bracket notation is to access a property stored in a variable</dt>
    </dl>
    <pre><code rel="JS" class="js">
      var point = {
        x:1,
        y:2
      };

      for(p in point){
        console.log(`${p} = ${point[p]}`);
      }
      //x = 1
      //y = 2
    </code></pre>
  </section>
  <section><h3>Duplicate property names</h3>
    <dl class="fa">
      <dt>An object can not have 2/more properties with a same name!</dt>
      <dt>When 2/more properties with a same name are given, then the last of them will overwrite the others.</dt>
    </dl>
    <pre><code rel="JS" class="js">
      var obj={
        prop1: 1,
        prop2: 2,
        prop1: 3,
        prop4: 4
      }
      console.log(obj);
      // Object {prop1: 3, prop2: 2, prop4: 4}
    </code></pre>
  </section>
  <section><h3 class="advanced">Computed property names (ES6)</h3>
    <dl class="fa">
      <dt>ES6 spec allow an expression to be placed inside square brackets, which will be computed as the property name</dt>
    </dl>
    <pre><code rel="JS" class="js">
      var i = 0;
      var obj = {
        [`key${++i}`] : i,
        [`key${++i}`] : i,
        [`key${++i}`] : i,
      };
      console.dir(obj);
      // Object
      //  key1: 1
      //  key2: 2
      //  key3: 3

    </code></pre>
  </section>
  <section><h3>Shorthand property names (ES6)</h3>
    <pre><code rel="JS" class="js">
      var key1 = 'first',
          key2 = 'second';

      var obj = {key1, key2};

      console.log(obj);
      // Object {key1: "first", key2: "second"}
    </code></pre>
  </section>
  <section><h3>Shorthand method notation (ES6)</h3>
    <dl class="fa">
      <dt>We can omit the function keyword, when defining methods</dt>
    </dl>
    <pre><code rel="JS" class="js">
      var obj = {
        id: 1,
        sayID(){
          console.log(this.id)
        },
      }
      obj.sayID();
      // 1
    </code></pre>
  </section>
</section>
<section><h2>the <span class="note">class</span> keyword in ES6</h2>
  <dl class="fa">
    <dt>ES6 introduces new keywords (<span class="note">class</span>, <span class="note">extends</span>) to ease work with objects and inheritance in JavaScript, especially for programmers coming from classical OOP languages like C++, Java, C#.</dt>
    <dt>Still, there are no internal implementation of classes in JavaScript!</dt>
  </dl>
</section>
<section><h2>the <span class="note">class</span> keyword in ES6</h2>
  <dl class="fa" style="font-size: .8em">
    <dt>The creator of JavaScript - <a href="https://en.wikipedia.org/wiki/Brendan_Eich">Brendan Eich</a> shows a great sense of humour in next video (he imitates <a href="https://www.youtube.com/watch?v=lJx6cF-H__I">Jonathan Ive explaining the Unibody-Design of MacBook</a>)</dt>
  </dl>
  <iframe src="https://www.youtube.com/embed/NJxB0Pp69IQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</section>
<section><h2>working with "class"-es in ES6</h2>
  <section style="font-size: .8em"><h3>the <span class="note">class</span> keyword</h3>
    <pre><code rel="JS" class="js">
      class Person {
        // the class constructor
        constructor(firstName, surName) {
          this.firstName = firstName;
          this.surName = surName;
        }

        // class methods
        name() {
          return `${this.firstName} ${this.surName}`;
        }

        greet() {
            return `Hi, i'm ${this.name()}!`;
        }
      }

      maria = new Person("Maria", "Popova")
      ivan = new Person("Ivan", "Ivanov")

      console.log( maria.greet() );
      console.log( ivan.greet() );

      //Hi, i'm Maria Popova!
      //Hi, i'm Ivan Ivano
    </code></pre>
    <dl class="fa">
      <dt>The <span class="note">constructor</span> function is called when an instance of a class is created with <span class="note">new</span></dt>
      <dt>the <span class="note">this</span> in class methods point to the class instance (i.e the object) who called that method.</dt>
    </dl>
  </section>
  <section><h3>Class Inheritance</h3>
    <dl class="fa">
      <dt>A class A can inherit from another class B. In this case we say that class A extends the class B.</dt>
    </dl>
    <pre><code rel="JS" class="js">
      class Student extends Person {
        constructor(firstName, surName, course){
          // use the parent constructor
          super(firstName, surName);
          // add other specific to Student properties:
          this.course = course;
        }

        // extend the greet functionality
        greet(){
          return `${super.greet()} and I'm studing ${this.course}!`
        }
      }
      //Hi, i'm Maria Popova! and I'm studing React!
      //Hi, i'm Ivan Ivanov! and I'm studing Angula
    </code></pre>
  </section>
</section>

<section data-min="10"><h1>Working with modules</h1></section>
<section><h2>Working with modules</h2>
  <section><h3>Overview</h3>
    <dl class="fa">
      <dt>A module is a reusable piece of code that encapsulates implementation details and exposes a public API so it can be easily loaded and used by other code.</dt>
      <dt>A god written module is characterised with:</dt>
      <dd>code abstraction</dd>
      <dd>encapsulation</dd>
      <dd>reusable code</dd>
      <dd>clear dependencies structure</dd>
    </dl>
  </section>
  <section><h3>Modules before ES6</h3>
    <dl class="fa">
      <dt>Before EcmaScript 6 or ES2015, JavaScript did not have an official syntax to define modules</dt>
      <dt>Therefore, developers came up with various design patterns to define modules in JavaScript, and a module format systems evolved</dt>
      <dd>AMD (used mainly in the browsers)</dd>
      <dd>CommonJS (used in node.js)</dd>
    </dl>
  </section>
  <section style="font-size: .8em"><h3>Modules in ES6+</h3>
    <dl class="fa">
      <dt>As of ES6, JavaScript also supports a native module format.</dt>
      <dt>the keyword <span class="note">export</span> is used to export a module's public API</dt>
      <dt>the keyword <span class="note">import</span> is used to import the desired functionality:</dt>
    </dl>
    <pre><code rel="mylib.js" class="js">
      // Export the function sayHello()
      export function sayHello(){
        console.log('Hello');
      }

      // ordinary, not export that function:
      function notExportedFunction(){
        // ...
      }
    </code></pre>
    <pre><code rel="main.js" class="js">
      import { sayHello } from './mylib';

      sayHello();
    </code></pre>
  </section>
  <section style="font-size: .8em"><h3>Modules in ES6+</h3>
    <dl class="fa">
      <dt>Imports can be given a nickname with <span class="note">as</span></dt>
    </dl>
    <pre><code rel="JS" class="js">
      import { sayHello as greet } from './mylib';

      greet();
    </code></pre>
  </section>
  <section><h3>Modules in ES6+</h3>
    <dl class="fa">
      <dt>You can export not only functions, but anything else:</dt>
    </dl>
    <pre><code rel="JS" class="js">
      // Export simple value
      export const PI = 3.14;

      // Export object
      export const settings = {
        debug: true,
        path: "."
      }
    </code></pre>
  </section>
  <section><h3>Module bundlers</h3>
    <dl class="fa">
      <dt>A module bundler is a replacement for module loader (manage and load interdependent modules, but do it as part of the application build rather than at runtime.</dt>
      <dt>Instead of loading dependencies as at run-time, a bundler bundles together all modules into a single file before the execution</dt>
      <dt>Most popular bundler systems fr JavaScript are:</dt>
      <dd><a href="https://webpack.js.org/">webpack</a></dd>
      <dd><a href="http://browserify.org/">browserify</a></dd>
    </dl>
  </section>
</section>


<section data-min="1"><h1>References</h1></section>
<section><h2>References</h2>
  <section><h3>Readings</h3>
    <dl class="fa">
      <dt><a href="https://github.com/angular/angular-cli/wiki">Angular CLI wiki</a></dt>
      <dt><a href="https://www.sitepoint.com/ultimate-angular-cli-reference/">The Ultimate Angular CLI Reference Guide</a></dt>
    </dl>
  </section>
</section>


<section id="hw" data-min="4"><h1>Exercises</h1></section>
<section><h2>Task1: Task1Title</h2>
  <section><h3>The Task</h3>
    <dl class="fa">
      <dt></dt>
    </dl>
  </section>
</section>

<section><h3>Submission</h3>
  <dl class="fa">
    <dt>PLease, prefix your filenames/archive with your name initials, before sending.</dt>
    <dd>For instance: <b>iep_task1.py</b> or <b>iep_tasks.rar</b></dd>
    <dt>Send files to <a href="mailto:ProgressBG.WWW.Courses@gmail.com?Subject=_JS_and_TypeScript_">ProgressBG.WWW.Courses@gmail.com</a></dt>
  </dl>
</section>


<section class="disclaimer" data-background="/CDS-Angular-Slides/outfit/images/for_slides/the_end_on_sand.jpg">
  <p>These slides are based on</p>
  <p>customised version of </p>
  <p><a href="http://hakim.se/">Hakimel</a>'s <a href="http://lab.hakim.se/reveal-js">reveal.js</a></p>
   <p>framework</p>
</section>
<!--
########################################################
##################### SLIDES END   #####################
########################################################
-->
    </div>
  </div>
  <!-- Custom processing -->
  <script src="/CDS-Angular-Slides/outfit/js/slides.js"></script>
  <!-- external scripts -->

  <script src="/CDS-Angular-Slides/lib/reveal.js/js/reveal.js"></script>

  <!-- init reveal -->
  <script>
    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    var highlightjsTabSize = '  ';
    Reveal.initialize({
      controls: true,
      progress: true,
      slideNumber: 'c/t',
      keyboard: true,
      history: true,

      // display control
      // center: true,
      // width: '100%',
      // height: '100%',
      // // Factor of the display size that should remain empty around the content
      // margin: 0.1,

      // The "normal" size of the presentation, aspect ratio will be preserved
      // when the presentation is scaled to fit different resolutions. Can be
      // specified using percentage units.
      width: 960,
      height: 700,

      // Factor of the display size that should remain empty around the content
      margin: 0.1,

      // Bounds for smallest/largest possible scale to apply to content
      minScale: 0.2,
      maxScale: 1.5,

      // slide transition
      transition: 'concave', // none/fade/slide/convex/concave/zoom
      // shift+maous click to zoom in/out element
      zoomKey: 'ctrl',
      // theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
      // transition: Reveal.getQueryHash().transition || 'default'
      // Optional reveal.js plugins
      dependencies: [
        { src: '/CDS-Angular-Slides/lib/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
        { src: '/CDS-Angular-Slides/lib/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: '/CDS-Angular-Slides/lib/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: '/CDS-Angular-Slides/lib/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.configure({tabReplace: highlightjsTabSize}); hljs.initHighlightingOnLoad(); } },
        { src: '/CDS-Angular-Slides/lib/reveal.js/plugin/zoom-js/zoom.js', async: true },
        { src: '/CDS-Angular-Slides/lib/reveal.js/plugin/notes/notes.js', async: true }
      ]
    });
  </script>
  <!-- linkedin badge -->
  <script type="text/javascript" src="https://platform.linkedin.com/badges/js/profile.js" async defer></script>
</body>
</html>
